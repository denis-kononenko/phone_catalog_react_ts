(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(6),s=a.n(c),r=a(4),n=a(3),i=(a(12),a(5)),l=a.n(i),o=a(1);let d=function(e){return e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e}({});a(13);let j=function(e){return e.perPage="perPage",e.activePage="activePage",e.sortBy="sortBy",e.query="query",e}({});var u=a(0);const b=e=>{let{page:t}=e;const[a,c]=Object(r.d)(),s=a.get(j.query)||"",[n,i]=Object(o.useState)(s),d=Object(o.useRef)(0);return Object(o.useEffect)((()=>{window.clearTimeout(d.current),d.current=window.setTimeout((()=>{(e=>{if(""===e&&""===s)return;const t=new URLSearchParams(a);""!==e?t.set(j.query,e):t.delete(j.query),t.set(j.activePage,"1"),c(t)})(n)}),1e3)}),[n]),Object(u.jsxs)("div",{className:"Search",children:[Object(u.jsx)("input",{type:"text",className:"Search__input",placeholder:"Search in ".concat(t,"..."),value:n,onChange:e=>i(e.target.value)}),Object(u.jsx)("button",{type:"button",className:l()("Search__icon",{"Search__icon--not-empty-search":""!==s}),"aria-label":"Clear search",onClick:()=>i("")})]})},m=Object(o.createContext)({cartItems:[],setCartItems:()=>{},totalSum:0,totalQuantity:0}),_=e=>{let{children:t}=e;const[a,c]=Object(o.useState)([]);let s=0,r=0;return a.forEach((e=>{s+=e.product.price*e.quantity,r+=e.quantity})),Object(o.useEffect)((()=>{const e=localStorage.getItem("cartItems");if(null!==e)try{c(JSON.parse(e))}catch{localStorage.removeItem("cartItems")}}),[]),Object(u.jsx)(m.Provider,{value:{cartItems:a,setCartItems:c,totalSum:s,totalQuantity:r},children:t})},h=Object(o.createContext)({favourites:[],setFavourites:()=>{}}),p=e=>{let{children:t}=e;const[a,c]=Object(o.useState)([]);return Object(o.useEffect)((()=>{const e=localStorage.getItem("favourites");if(null!==e)try{c(JSON.parse(e))}catch{localStorage.removeItem("favourites")}}),[]),Object(u.jsx)(h.Provider,{value:{favourites:a,setFavourites:c},children:t})},O=["home",...Object.values(d)],g=()=>{const e=Object(n.n)(),{totalQuantity:t}=Object(o.useContext)(m),{favourites:a}=Object(o.useContext)(h),[c,s]=Object(o.useState)(!1),i=(()=>{const t=e.pathname.lastIndexOf("/");return e.pathname.slice(t+1)})(),j=[...Object.values(d),"favourites"].includes(i),_=e.pathname.includes("cart");return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{className:"App__header-wrapper",children:Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"header__content",children:[Object(u.jsx)(r.b,{to:"/",className:"logo logo--header header__logo",children:"Logo"}),!_&&Object(u.jsx)("div",{className:l()("header__menu",{"header__menu--opened":c}),children:Object(u.jsx)("nav",{className:"nav",children:Object(u.jsx)("ul",{className:"nav__list nav__list--menu",children:O.map((e=>Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)(r.c,{to:"home"===e?"/":e,className:e=>{let{isActive:t}=e;return l()("nav__link","nav__link--menu",{"nav__link--active":t})},onClick:()=>s(!1),children:e})},e)))})})}),!_&&Object(u.jsx)("button",{type:"button",className:"header__link header__link--burger","aria-label":"Open menu",onClick:()=>s(!c)}),Object(u.jsx)("div",{className:"header__stretchable-block"}),j&&Object(u.jsx)("div",{className:"header__search-wrapper",children:Object(u.jsx)(b,{page:i},i)}),!_&&Object(u.jsx)(r.c,{to:"favourites",className:e=>{let{isActive:t}=e;return l()("header__link","header__link--favourites",{"header__link--active":t})},children:a.length>0&&Object(u.jsx)("div",{className:"App__total-quantity",children:a.length})}),Object(u.jsx)(r.c,{to:"cart",className:e=>{let{isActive:t}=e;return l()("header__link","header__link--cart",{"header__link--active":t})},children:t>0&&Object(u.jsx)("div",{className:"App__total-quantity",children:t})})]})})})}),Object(u.jsx)("main",{className:"App__main",children:Object(u.jsx)("div",{className:"container container--main",children:Object(u.jsx)(n.a,{})})}),Object(u.jsx)("footer",{className:"footer",children:Object(u.jsx)("div",{className:"container container--main",children:Object(u.jsxs)("div",{className:"footer__content",children:[Object(u.jsx)(r.b,{to:"/",className:"logo footer__logo",children:"Logo"}),Object(u.jsx)("nav",{className:"nav footer__nav",children:Object(u.jsxs)("ul",{className:"nav__list",children:[Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)("a",{href:"https://github.com/denis-kononenko/react_phone-catalog",className:"nav__link",children:"Github"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)("a",{href:"#contacts",className:"nav__link",children:"Contacts"})}),Object(u.jsx)("li",{className:"nav__item",children:Object(u.jsx)("a",{href:"#rights",className:"nav__link",children:"Rights"})})]})}),Object(u.jsx)("button",{type:"button",className:"footer__to-top",onClick:()=>window.scrollTo({top:0,left:0,behavior:"smooth"}),children:"Back to top"})]})})})]})};a(15),a(16);const x="https://mate-academy.github.io/react_phone-catalog/_new";a(17);const v=e=>{let{product:t}=e;const{cartItems:a,setCartItems:c}=Object(o.useContext)(m),{favourites:s,setFavourites:r}=Object(o.useContext)(h),n=a.findIndex((e=>e.itemId===(null===t||void 0===t?void 0:t.itemId)))>-1,i=s.findIndex((e=>e.itemId===(null===t||void 0===t?void 0:t.itemId)))>-1;return Object(u.jsxs)("div",{className:"Actions",children:[Object(u.jsx)("button",{type:"button",className:l()("Actions__add-to-cart","button",{"button--added-to-cart":n}),onClick:e=>{if(e.preventDefault(),!t)return;const{itemId:s}=t,r=[...a,{itemId:s,quantity:1,product:t}];c(r),localStorage.setItem("cartItems",JSON.stringify(r))},disabled:n,children:"".concat(n?"Added":"Add"," to cart")}),Object(u.jsx)("button",{type:"button","aria-label":"Add to favourites",className:l()("Actions__add-to-favourites",{"Actions__add-to-favourites--added":i}),onClick:e=>{if(e.preventDefault(),!t)return;const a=i?s.filter((e=>e.itemId!==t.itemId)):[...s,t];r(a),localStorage.setItem("favourites",JSON.stringify(a))},"data-cy":"addToFavorite"})]})};var N=function(e){return e.Screen="screen",e.Capacity="capacity",e.Ram="ram",e}(N||{});const P=e=>{let{product:t}=e;const{itemId:a,image:c,name:s,price:n,fullPrice:i,category:o}=t;return Object(u.jsxs)(r.b,{to:"/".concat(o,"/").concat(a),className:"ProductCard","data-cy":"cardsContainer",children:[Object(u.jsx)("div",{className:"ProductCard__image-wrapper",children:Object(u.jsx)("img",{src:"".concat(x,"/").concat(c),alt:s,className:"ProductCard__image"})}),Object(u.jsxs)("div",{className:"ProductCard__info",children:[Object(u.jsx)("h2",{className:"ProductCard__title",children:s.toLowerCase()}),Object(u.jsxs)("div",{className:"ProductCard__price price",children:[Object(u.jsxs)("span",{className:"price__discount",children:["$",n]}),Object(u.jsxs)("span",{className:"price__full",children:["$",i]})]}),Object(u.jsx)("ul",{className:"ProductCard__properties",children:Object.values(N).map((e=>Object(u.jsxs)("li",{className:"ProductCard__property",children:[Object(u.jsx)("span",{className:l()("ProductCard__property-name",{"ProductCard__property-name--ram":e===N.Ram}),children:e}),Object(u.jsx)("span",{className:"ProductCard__property-value",children:t[e]})]},e)))}),Object(u.jsx)(v,{product:t})]})]})};a(18);const f=e=>{let{sliderTitle:t,products:a}=e;const[c,s]=Object(o.useState)(0),r=document.documentElement.clientWidth,n=r<=992&&r>576,i=r<=576?1:n?2:4,l=n?1:2,d=100/a.length,j=d*l,b=100-d*i,m=0===c,_=c===b,h={width:"".concat(a.length/i*100,"%"),transform:"translateX(-".concat(c,"%)")};return Object(u.jsxs)("div",{className:"ProductsSlider",children:[Object(u.jsxs)("div",{className:"ProductsSlider__title-wrapper",children:[Object(u.jsx)("h2",{className:"title",children:t}),Object(u.jsxs)("div",{className:"ProductsSlider__buttons",children:[Object(u.jsx)("button",{type:"button","aria-label":"Previous",className:"ProductsSlider__button ProductsSlider__button--previous",onClick:()=>{s((e=>e-j<0?0:e-j))},disabled:m}),Object(u.jsx)("button",{type:"button","aria-label":"Next",className:"ProductsSlider__button ProductsSlider__button--next",onClick:()=>{s((e=>e+j>b?b:e+j))},disabled:_})]})]}),Object(u.jsx)("div",{className:"ProductsSlider__slides-wrapper",children:Object(u.jsx)("div",{className:"ProductsSlider__slides",style:h,children:a.map((e=>Object(u.jsx)(P,{product:e},e.id)))})})]})};a(19);const y=["img/banner-phones.png","img/banner-tablets.png","img/banner-accessories.png"],C=()=>{const[e,t]=Object(o.useState)(0),a=100/y.length,c=Object(o.useRef)(0),s={width:"".concat(100*y.length,"%"),transform:"translateX(-".concat(a*e,"%)")},r=()=>{clearInterval(c.current),t((e=>e+1>y.length-1?0:e+1)),c.current=window.setInterval(r,5e3)};return Object(o.useEffect)((()=>(c.current=window.setInterval(r,5e3),()=>clearInterval(c.current))),[]),Object(u.jsxs)("div",{className:"ImagesSlider",children:[Object(u.jsxs)("div",{className:"ImagesSlider__wrapper",children:[Object(u.jsx)("button",{type:"button",className:"ImagesSlider__button ImagesSlider__button--previous","aria-label":"Previous",onClick:()=>{clearInterval(c.current),t((e=>e-1<0?y.length-1:e-1)),c.current=window.setInterval(r,5e3)}}),Object(u.jsx)("div",{className:"ImagesSlider__slides-wrapper",children:Object(u.jsx)("div",{className:"ImagesSlider__slides",style:s,children:y.map(((e,t)=>Object(u.jsx)("div",{className:"ImagesSlider__slide",children:Object(u.jsx)("img",{src:"".concat(x,"/").concat(e),alt:"Slide ".concat(t+1),className:"ImagesSlider__slide-image"})},e)))})}),Object(u.jsx)("button",{type:"button",className:"ImagesSlider__button ImagesSlider__button--next","aria-label":"Next",onClick:r})]}),Object(u.jsx)("div",{className:"ImagesSlider__indicators",children:y.map(((a,s)=>Object(u.jsx)("button",{type:"button","aria-label":"indicator",className:l()("ImagesSlider__indicator",{"ImagesSlider__indicator--active":s===e}),onClick:()=>(e=>{clearInterval(c.current),t(e),c.current=window.setInterval(r,5e3)})(s)},a)))})]})},S=e=>e===d.Phones?"Mobile ".concat(e):e[0].toUpperCase()+e.slice(1),I=Object(o.createContext)({products:[],isLoading:!1}),w=e=>{let{children:t}=e;const[a,c]=Object(o.useState)([]),[s,r]=Object(o.useState)(!1);return Object(o.useEffect)((()=>{r(!0),fetch("".concat(x,"/products.json")).then((e=>e.json())).then(c).finally((()=>r(!1)))}),[]),Object(u.jsx)(I.Provider,{value:{products:a,isLoading:s},children:t})},k=()=>{const{products:e}=Object(o.useContext)(I),t=[...e].sort(((e,t)=>t.fullPrice-t.price-(e.fullPrice-e.price))),a=[...e].sort(((e,t)=>t.price-e.price)),c={[d.Phones]:0,[d.Tablets]:0,[d.Accessories]:0};return e.forEach((e=>{switch(e.category){case d.Phones:c[d.Phones]+=1;break;case d.Tablets:c[d.Tablets]+=1;break;case d.Accessories:c[d.Accessories]+=1}})),Object(u.jsxs)("div",{className:"HomePage",children:[Object(u.jsx)("section",{className:"HomePage__section HomePage__images-slider-wrapper",children:Object(u.jsx)(C,{})}),Object(u.jsx)("section",{className:"HomePage__section",children:Object(u.jsx)(f,{sliderTitle:"Hot prices",products:t})}),Object(u.jsxs)("section",{className:"HomePage__section",children:[Object(u.jsx)("h2",{className:"HomePage__section-title title",children:"Shop by category"}),Object(u.jsx)("div",{className:"HomePage__categories",children:Object.values(d).map((e=>Object(u.jsxs)(r.b,{to:"".concat(e),className:"HomePage__category","data-cy":"categoryLinksContainer",children:[Object(u.jsx)("div",{className:"HomePage__category-image-wrapper",children:Object(u.jsx)("div",{className:"HomePage__category-image HomePage__category-image--".concat(e)})}),Object(u.jsx)("h3",{className:"HomePage__category-title",children:S(e)}),Object(u.jsx)("span",{className:"HomePage__category-info",children:"".concat(c[e]||"No"," models")})]},e)))})]}),Object(u.jsx)(f,{sliderTitle:"Brand new models",products:a})]})};a(20),a(21);const D=()=>Object(u.jsx)("div",{className:"Loader"});a(22);const A=()=>{const e=Object(n.n)().pathname.split("/").slice(1);let t="";return Object(u.jsxs)("div",{className:"BreadCrumbs","data-cy":"breadCrumbs",children:[Object(u.jsx)(r.b,{to:"/",className:"BreadCrumbs__crumb BreadCrumbs__crumb--home"}),e.map(((a,c)=>{const s=c===e.length-1;return t+="/".concat(a),Object(u.jsx)("div",{className:"BreadCrumbs__crumb",children:s?Object(u.jsx)("span",{children:a}):Object(u.jsx)(r.b,{to:t,children:a})},a)}))]})};a(23);const q=e=>{let{productsCount:t,perPage:a,activePage:c,setActivePage:s}=e;const r=Object(o.useMemo)((()=>Math.ceil(t/a)),[t,a]),n=Object(o.useMemo)((()=>{const e=[];for(let t=1;t<=r;t+=1)e.push(t);return e}),[r]),i=1===c,d=c===r;return Object(u.jsxs)("div",{className:"Pagination",children:[Object(u.jsx)("button",{type:"button","aria-label":"Previous","data-cy":"paginationLeft",className:"Pagination__button Pagination__button--previous",onClick:()=>{s(c>1?c-1:1)},disabled:i}),Object(u.jsx)("div",{className:"Pagination__pages",children:n.map((e=>Object(u.jsx)("button",{type:"button",className:l()("Pagination__button","Pagination__button--page",{"Pagination__button--active":e===c}),onClick:()=>s(e),children:e},e)))}),Object(u.jsx)("button",{type:"button","aria-label":"Next","data-cy":"paginationRight",className:"Pagination__button Pagination__button--next",onClick:()=>{s(c<r?c+1:r)},disabled:d})]})};var T=function(e){return e.Age="age",e.Name="name",e.Price="price",e}(T||{});const B=["4","8","16","all"],H=e=>{let{title:t,products:a}=e;const[c,s]=Object(r.d)(),{isLoading:n}=Object(o.useContext)(I),i=c.get(j.query)||"",l=c.get(j.perPage)||B[2],d="all"!==l?Number(l):a.length,b=Number(c.get(j.activePage))||1,m=c.get(j.sortBy)||T.Age,_=d*(b-1),h=_+d,p=""===i?a:a.filter((e=>e.name.toLowerCase().includes(i.toLowerCase()))),O=p.sort(((e,t)=>{switch(m){case T.Age:return t.year-e.year;case T.Name:return e.name.localeCompare(t.name);case T.Price:return t.price-e.price;default:return 0}})).slice(_,h),g=(e,t)=>{const a=new URLSearchParams(c);e===j.perPage&&a.set(j.activePage,"1"),a.set(e,t),s(a)};return Object(u.jsxs)("div",{className:"PageContent",children:[Object(u.jsx)("div",{className:"PageContent__breadcrumbs-wrapper",children:Object(u.jsx)(A,{})}),n&&Object(u.jsx)(D,{}),!n&&!a.length&&Object(u.jsx)("div",{children:"".concat(S(t)," not found")}),!n&&!!a.length&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:"PageContent__title title",children:S(t)}),Object(u.jsx)("div",{className:"PageContent__info",children:"".concat(a.length," models")}),Object(u.jsxs)("div",{className:"PageContent__params",children:[Object(u.jsxs)("div",{className:"PageContent__sort-param",children:[Object(u.jsx)("label",{htmlFor:"sortParams",className:"PageContent__label",children:"Sort by"}),Object(u.jsxs)("select",{id:"sortParams",className:"PageContent__select",value:m,onChange:e=>{g(j.sortBy,e.target.value)},children:[Object(u.jsx)("option",{value:T.Age,children:"Newest"}),Object(u.jsx)("option",{value:T.Name,children:"Alphabetically"}),Object(u.jsx)("option",{value:T.Price,children:"Cheapest"})]})]}),Object(u.jsxs)("div",{className:"PageContent__items-number",children:[Object(u.jsx)("label",{htmlFor:"itemsNumber",className:"PageContent__label",children:"Items on page"}),Object(u.jsx)("select",{id:"itemsNumber",className:"PageContent__select",onChange:e=>{g(j.perPage,e.target.value)},value:l,children:B.map((e=>Object(u.jsx)("option",{value:e,children:e[0].toUpperCase()+e.slice(1)},e)))})]})]}),p.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{"data-cy":"productList",className:"PageContent__products",children:O.map((e=>Object(u.jsx)(P,{product:e},e.id)))}),Object(u.jsx)("div",{className:"PageContent__pagination-wrapper",children:d<p.length&&Object(u.jsx)(q,{productsCount:p.length,perPage:d,activePage:b,setActivePage:e=>{g(j.activePage,String(e))}})})]}):Object(u.jsx)("div",{className:"PageContent__no-search-results title",children:"No search results"})]})]})},L=()=>{const{products:e}=Object(o.useContext)(I),t=e.filter((e=>e.category===d.Phones));return Object(u.jsx)(H,{title:d.Phones,products:t})},F=()=>{const{products:e}=Object(o.useContext)(I),t=e.filter((e=>e.category===d.Tablets));return Object(u.jsx)(H,{title:d.Tablets,products:t})},E=()=>{const{products:e}=Object(o.useContext)(I),t=e.filter((e=>e.category===d.Accessories));return Object(u.jsx)(H,{title:d.Accessories,products:t})};a(24),a(25);const R=()=>{const e=Object(n.p)();return Object(u.jsx)("div",{className:"Back","data-cy":"backButton",children:Object(u.jsx)("button",{type:"button",className:"Back__button",onClick:()=>e(-1),children:"Back"})})},J=()=>{const[e,t]=Object(o.useState)({}),[a,c]=Object(o.useState)(!1),[s,r]=Object(o.useState)(!1),[i,d]=Object(o.useState)(0),{productId:j}=Object(n.r)(),{products:b}=Object(o.useContext)(I),m=!!Object.values(e).length,{name:_,screen:h,resolution:p,processor:O,ram:g,capacity:N,camera:P,zoom:y,cell:C,description:S,images:w=[],priceDiscount:k,priceRegular:q}=e,T={screen:h,resolution:p,processor:O,ram:g},B={...T,"built in memory":N,camera:P,zoom:y,cell:C},H=b.find((e=>e.itemId===j));Object(o.useEffect)((()=>{j&&(c(!0),(e=>fetch("".concat(x,"/products/").concat(e,".json")).then((e=>e.json())))(j).then((e=>{t(e),r(!1)})).catch((()=>r(!0))).finally((()=>c(!1))))}),[j]);const L=e=>Object.entries(e).map((e=>Object(u.jsxs)("li",{className:"ProductDetailsPage__spec",children:[Object(u.jsx)("span",{className:"ProductDetailsPage__spec-name",children:"ram"!==e[0]?e[0]:e[0].toUpperCase()}),Object(u.jsx)("span",{className:"ProductDetailsPage__spec-value",children:"cell"!==e[0]?e[1]:e[1].join(", ")})]},e[0])));return Object(u.jsxs)("div",{className:"ProductDetailsPage",children:[a&&Object(u.jsx)(D,{}),!a&&s&&Object(u.jsx)("div",{className:"ProductDetailsPage__details-not-found title",children:"Phone was not found"}),!a&&!s&&m&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"ProductDetailsPage__breadcrumbs-wrapper",children:Object(u.jsx)(A,{})}),Object(u.jsx)("div",{className:"ProductDetailsPage__back-wrapper",children:Object(u.jsx)(R,{})}),Object(u.jsx)("h1",{className:"ProductDetailsPage__title",children:_}),Object(u.jsxs)("div",{className:"ProductDetailsPage__details",children:[Object(u.jsxs)("div",{className:"ProductDetailsPage__images",children:[Object(u.jsx)("div",{className:"ProductDetailsPage__small-images",children:w.map(((e,t)=>Object(u.jsx)("button",{type:"button",className:l()("ProductDetailsPage__image-wrapper",{"ProductDetailsPage__image-wrapper--active":t===i}),onClick:()=>d(t),children:Object(u.jsx)("img",{src:"".concat(x,"/").concat(e),alt:String(t),className:"ProductDetailsPage__image"})},e)))}),Object(u.jsx)("div",{className:"ProductDetailsPage__big-image-wrapper",children:Object(u.jsx)("img",{src:"".concat(x,"/").concat(w[i]),alt:"Big",className:"ProductDetailsPage__image"})})]}),Object(u.jsxs)("div",{className:"ProductDetailsPage__info",children:[Object(u.jsxs)("div",{className:"ProductDetailsPage__price price",children:[Object(u.jsxs)("span",{className:"price__discount price__discount--font-size--32px",children:["$",k]}),Object(u.jsxs)("span",{className:"price__full",children:["$",q]})]}),Object(u.jsx)("div",{className:"ProductDetailsPage__actions-wrapper",children:Object(u.jsx)(v,{product:H})}),Object(u.jsx)("ul",{className:" ProductDetailsPage__specs ProductDetailsPage__specs--12px-600 ",children:L(T)})]}),Object(u.jsxs)("div",{"data-cy":"productDescription",children:[Object(u.jsx)("h2",{className:"ProductDetailsPage__subtitle",children:"About"}),Object(u.jsx)("div",{className:"ProductDetailsPage__about",children:S.map((e=>e.text.map((e=>Object(u.jsx)("p",{children:e},e)))))})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"ProductDetailsPage__subtitle",children:"Tech specs"}),Object(u.jsx)("ul",{className:"ProductDetailsPage__specs",children:L(B)})]})]}),Object(u.jsx)(f,{sliderTitle:"You may also like",products:(e=>{const t=()=>Math.floor(Math.random()*b.length),a=[];for(let c=0;c<e;c+=1){let e=t();for(;a.includes(b[e]);)e=t();a.push(b[e])}return a})(10)})]})]})};a(26);const M=()=>{const{cartItems:e,setCartItems:t,totalSum:a,totalQuantity:c}=Object(o.useContext)(m),[s,r]=Object(o.useState)(!1),n=Object(o.useRef)(0);return Object(u.jsxs)("div",{className:"CartPage",children:[Object(u.jsx)("div",{className:"CartPage__back-wrapper",children:Object(u.jsx)(R,{})}),Object(u.jsx)("h1",{className:"CartPage__title title",children:"Cart"}),e.length?Object(u.jsxs)("div",{className:"CartPage__content",children:[Object(u.jsx)("ul",{className:"CartPage__list",children:e.map(((a,c)=>Object(u.jsxs)("li",{className:"CartPage__item",children:[Object(u.jsx)("button",{type:"button","data-cy":"cartDeleteButton",className:"CartPage__delete-button","aria-label":"Delete from cart",onClick:c=>((a,c)=>{a.preventDefault();const s=e.filter((e=>e.itemId!==c));t(s),localStorage.setItem("cartItems",JSON.stringify(s))})(c,a.itemId)}),Object(u.jsx)("div",{className:"CartPage__image-wrapper",children:Object(u.jsx)("img",{src:"".concat(x,"/").concat(a.product.image),alt:a.product.name,className:"CartPage__image"})}),Object(u.jsx)("span",{className:"CartPage__name",children:a.product.name}),Object(u.jsxs)("div",{className:"CartPage__quantity-wrapper",children:[Object(u.jsx)("button",{type:"button",className:" CartPage__quantity-button CartPage__quantity-button--decrease ","aria-label":"Decrease quantity",onClick:()=>(a=>{const c=e[a];if(1===c.quantity)return;const s=[...e];s.splice(a,1,{...c,quantity:c.quantity-1}),t(s),localStorage.setItem("cartItems",JSON.stringify(s))})(c),disabled:1===a.quantity}),Object(u.jsx)("span",{"data-cy":"productQauntity",className:"CartPage__quantity-value",children:a.quantity}),Object(u.jsx)("button",{type:"button",className:" CartPage__quantity-button CartPage__quantity-button--increase ","aria-label":"Increase quantity",onClick:()=>(a=>{const c=e[a];if(99===c.quantity)return;const s=[...e];s.splice(a,1,{...c,quantity:c.quantity+1}),t(s),localStorage.setItem("cartItems",JSON.stringify(s))})(c),disabled:99===a.quantity})]}),Object(u.jsxs)("span",{className:"CartPage__price",children:["$",a.product.price]})]},a.itemId)))}),Object(u.jsxs)("div",{className:"CartPage__total-sum-wrapper",children:[Object(u.jsxs)("div",{className:"CartPage__total-sum",children:[Object(u.jsxs)("div",{className:"CartPage__total-sum-value-wrapper",children:[Object(u.jsxs)("div",{className:"CartPage__total-sum-value",children:["$",a]}),Object(u.jsx)("span",{className:"CartPage__total-sum-info",children:"Total for ".concat(c," items")})]}),Object(u.jsx)("button",{type:"button",className:"button button--height--48px",onClick:()=>{window.clearTimeout(n.current),r(!0),n.current=window.setTimeout((()=>r(!1)),3e3)},children:"Checkout"})]}),Object(u.jsx)("p",{className:l()("CartPage__checkout-message",{"CartPage__checkout-message--show":s}),children:"We are sorry, but this feature is not implemented yet"})]})]}):Object(u.jsx)("div",{className:"CartPage__empty title",children:"Your cart is empty"})]})},$=()=>{const{favourites:e}=Object(o.useContext)(h);return Object(u.jsx)(H,{title:"Favourites",products:e})};a(27);const Q=()=>Object(u.jsx)("div",{className:"NotFoundPage title",children:"Page not found"}),U=()=>Object(u.jsx)(w,{children:Object(u.jsx)(p,{children:Object(u.jsx)(_,{children:Object(u.jsx)(r.a,{children:Object(u.jsx)(n.d,{children:Object(u.jsxs)(n.b,{path:"/",element:Object(u.jsx)(g,{}),children:[Object(u.jsx)(n.b,{index:!0,element:Object(u.jsx)(k,{})}),Object(u.jsx)(n.b,{path:d.Phones,element:Object(u.jsx)(L,{})}),Object(u.jsx)(n.b,{path:d.Tablets,element:Object(u.jsx)(F,{})}),Object(u.jsx)(n.b,{path:d.Accessories,element:Object(u.jsx)(E,{})}),Object(u.jsx)(n.b,{path:":category/:productId",element:Object(u.jsx)(J,{})}),Object(u.jsx)(n.b,{path:"cart",element:Object(u.jsx)(M,{})}),Object(u.jsx)(n.b,{path:"favourites",element:Object(u.jsx)($,{})}),Object(u.jsx)(n.b,{path:"*",element:Object(u.jsx)(Q,{})})]})})})})})});s.a.render(Object(u.jsx)(U,{}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.b4fd9dc5.chunk.js.map